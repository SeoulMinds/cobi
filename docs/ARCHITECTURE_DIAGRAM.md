# COBI Sentiment Analysis Architecture

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Frontend (React)                             â”‚
â”‚                     http://localhost:3000                            â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Chat Interface (ChatAssistant.tsx)                          â”‚  â”‚
â”‚  â”‚  â€¢ User sends message                                        â”‚  â”‚
â”‚  â”‚  â€¢ Displays AI response                                      â”‚  â”‚
â”‚  â”‚  â€¢ Shows product recommendations                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ POST /api/chat
                            â”‚ {"text": "Perfect fit!", "user_id": "..."}
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Backend (FastAPI)                               â”‚
â”‚                    http://localhost:8001                             â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 1. Chat Endpoint (main.py)                                 â”‚    â”‚
â”‚  â”‚    â€¢ Receive user message                                   â”‚    â”‚
â”‚  â”‚    â€¢ Search products                                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚              â”‚                                                       â”‚
â”‚              â†“                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 2. Gemini Service (gemini_service.py)                      â”‚    â”‚
â”‚  â”‚    â€¢ Generate AI response                                   â”‚    â”‚
â”‚  â”‚    â€¢ Product recommendations                                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚              â”‚                                                       â”‚
â”‚              â†“                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 3. Sentiment Analyzer (sentiment_analyzer.py) â˜… NEW        â”‚    â”‚
â”‚  â”‚    â€¢ Extract product features mentioned                     â”‚    â”‚
â”‚  â”‚    â€¢ Determine sentiment (positive/negative)                â”‚    â”‚
â”‚  â”‚    â€¢ Calculate sentiment scores (-1.0 to 1.0)               â”‚    â”‚
â”‚  â”‚    â€¢ Support multi-language (EN, KO, etc.)                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚              â”‚                                                       â”‚
â”‚              â”‚ Features: [{"feature": "size", "score": 0.9, ...}]   â”‚
â”‚              â†“                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 4. Qdrant Service (qdrant_service.py) â˜… ENHANCED           â”‚    â”‚
â”‚  â”‚    â€¢ Update user profile vector                             â”‚    â”‚
â”‚  â”‚    â€¢ Add evidence to payload                                â”‚    â”‚
â”‚  â”‚    â€¢ Calculate exponential moving average                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚              â”‚                                                       â”‚
â”‚              â†“                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 5. MongoDB Sync                              â˜… NEW          â”‚    â”‚
â”‚  â”‚    â€¢ Persist profile to MongoDB                             â”‚    â”‚
â”‚  â”‚    â€¢ Store evidence history                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â†“                â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Qdrant DB     â”‚  â”‚   MongoDB        â”‚
        â”‚   Port: 6333    â”‚  â”‚   Port: 27017    â”‚
        â”‚                 â”‚  â”‚                  â”‚
        â”‚  Collection:    â”‚  â”‚  Collection:     â”‚
        â”‚  user_profiles  â”‚  â”‚  user_profiles   â”‚
        â”‚                 â”‚  â”‚                  â”‚
        â”‚  Vector: [8D]   â”‚  â”‚  JSON Documents  â”‚
        â”‚  Payload: {...} â”‚  â”‚  Full Profile    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Qdrant Dashboard â”‚
        â”‚ Port: 6333       â”‚
        â”‚                  â”‚
        â”‚ â€¢ View Vectors   â”‚
        â”‚ â€¢ Search Users   â”‚
        â”‚ â€¢ Visualize Data â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Example

### Step 1: User Sends Message

```
Frontend
  â†“
POST /api/chat
{
  "text": "The fit is perfect and I love the color!",
  "user_id": "demo-user"
}
```

### Step 2: Backend Processing

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Product Search                      â”‚
â”‚ â€¢ Find matching products            â”‚
â”‚ â€¢ Build context for AI              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Gemini AI Response                  â”‚
â”‚ "Great choice! These products..."   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sentiment Analysis â˜… NEW            â”‚
â”‚ Input: "The fit is perfect and      â”‚
â”‚         I love the color!"          â”‚
â”‚                                     â”‚
â”‚ Output:                             â”‚
â”‚ [                                   â”‚
â”‚   {                                 â”‚
â”‚     "feature": "size",              â”‚
â”‚     "sentence": "The fit is perfect"â”‚
â”‚     "sentiment": "positive",        â”‚
â”‚     "score": 0.9                    â”‚
â”‚   },                                â”‚
â”‚   {                                 â”‚
â”‚     "feature": "color",             â”‚
â”‚     "sentence": "I love the color"  â”‚
â”‚     "sentiment": "positive",        â”‚
â”‚     "score": 0.9                    â”‚
â”‚   }                                 â”‚
â”‚ ]                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Step 3: Profile Update

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Get Current Profile from Qdrant     â”‚
â”‚                                     â”‚
â”‚ Current Vector:                     â”‚
â”‚ [0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5]
â”‚  ^^^  ^^^
â”‚  size color
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Update with Exponential Moving Avg  â”‚
â”‚                                     â”‚
â”‚ Formula:                            â”‚
â”‚ new = current * 0.7 + score * 0.3   â”‚
â”‚                                     â”‚
â”‚ Size:                               â”‚
â”‚ 0.5 * 0.7 + 0.95 * 0.3 = 0.62      â”‚
â”‚                                     â”‚
â”‚ Color:                              â”‚
â”‚ 0.5 * 0.7 + 0.95 * 0.3 = 0.62      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Store in Qdrant                     â”‚
â”‚                                     â”‚
â”‚ Updated Vector:                     â”‚
â”‚ [0.62, 0.62, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5]
â”‚  ^^^^  ^^^^
â”‚  Updated!
â”‚                                     â”‚
â”‚ Payload:                            â”‚
â”‚ {                                   â”‚
â”‚   "evidence": [                     â”‚
â”‚     {                               â”‚
â”‚       "feature": "size",            â”‚
â”‚       "sentence": "The fit...",     â”‚
â”‚       "score": 0.9,                 â”‚
â”‚       "timestamp": "2025-11-09..."  â”‚
â”‚     },                              â”‚
â”‚     {...}                           â”‚
â”‚   ]                                 â”‚
â”‚ }                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sync to MongoDB                     â”‚
â”‚                                     â”‚
â”‚ Document:                           â”‚
â”‚ {                                   â”‚
â”‚   "user_id": "demo-user",           â”‚
â”‚   "feature_weights": {              â”‚
â”‚     "size": 0.62,                   â”‚
â”‚     "color": 0.62,                  â”‚
â”‚     ...                             â”‚
â”‚   },                                â”‚
â”‚   "evidence": [...]                 â”‚
â”‚ }                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Step 4: Return Response

```
Backend â†’ Frontend
{
  "id": "...",
  "user_message": "The fit is perfect and I love the color!",
  "ai_response": "Great choice! These products...",
  "products": [...],
  "sentiment_features": [    â˜… NEW FIELD
    {
      "feature": "size",
      "sentence": "The fit is perfect",
      "sentiment": "positive",
      "score": 0.9
    },
    {
      "feature": "color",
      "sentence": "I love the color",
      "sentiment": "positive",
      "score": 0.9
    }
  ]
}
```

## Feature Vector Dimensions

```
Index  Feature      Default  Range    Description
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  0    size         0.5      [0-1]    Fit/sizing preferences
  1    color        0.5      [0-1]    Color preferences
  2    material     0.5      [0-1]    Material quality
  3    brand        0.5      [0-1]    Brand preferences
  4    price        0.5      [0-1]    Price sensitivity
  5    trend        0.5      [0-1]    Style/trend affinity
  6    durability   0.5      [0-1]    Durability importance
  7    shipping     0.5      [0-1]    Shipping speed priority

Example Vector for Fashion-Conscious User:
[0.85, 0.92, 0.65, 0.70, 0.45, 0.88, 0.50, 0.60]
 ^^^^  ^^^^  ^^^^  ^^^^  ^^^^  ^^^^  ^^^^  ^^^^
 size  color mat.  brand price trend dur.  ship.
 
Interpretation:
â€¢ Cares a lot about fit (0.85) and color (0.92)
â€¢ Very trend-conscious (0.88)
â€¢ Moderate brand preference (0.70)
â€¢ Less price-sensitive (0.45 - lower means cares less about price being cheap)
```

## Qdrant Dashboard Views

### Collection Overview
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Collections                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–º user_profiles                        â”‚
â”‚   â€¢ Points: 42                         â”‚
â”‚   â€¢ Vector size: 8                     â”‚
â”‚   â€¢ Distance: Cosine                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Point Detail View
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Point ID: demo-user                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Vector:                                â”‚
â”‚ [0.62, 0.62, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5]
â”‚                                        â”‚
â”‚ Payload:                               â”‚
â”‚ {                                      â”‚
â”‚   "evidence": [                        â”‚
â”‚     {                                  â”‚
â”‚       "feature": "size",               â”‚
â”‚       "sentence": "The fit is perfect",â”‚
â”‚       "sentiment": "positive",         â”‚
â”‚       "score": 0.9,                    â”‚
â”‚       "timestamp": "2025-11-09..."     â”‚
â”‚     }                                  â”‚
â”‚   ]                                    â”‚
â”‚ }                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Similar Users Search
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Search Results for: demo-user          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. user-123    Similarity: 0.95        â”‚
â”‚    Vector: [0.65, 0.60, 0.7, ...]      â”‚
â”‚                                        â”‚
â”‚ 2. user-456    Similarity: 0.87        â”‚
â”‚    Vector: [0.58, 0.68, 0.5, ...]      â”‚
â”‚                                        â”‚
â”‚ 3. user-789    Similarity: 0.82        â”‚
â”‚    Vector: [0.70, 0.55, 0.6, ...]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Integration Points

### Existing Features (Enhanced)
- âœ… Chat Assistant - Now extracts sentiment automatically
- âœ… User Profiles - Auto-updated from chat interactions
- âœ… Product Search - Can use profiles for ranking (future)

### New Features
- â­ Sentiment Analysis - Multi-language, AI-powered
- â­ Profile Updates - Real-time vector updates
- â­ Evidence Tracking - Complete preference history
- â­ Similar Users - Vector similarity search
- â­ Dashboard Visualization - Qdrant web UI

### Future Enhancements
- ğŸ”® Profile-based Product Ranking
- ğŸ”® Collaborative Filtering
- ğŸ”® Preference Explanations
- ğŸ”® Time-based Preference Decay
- ğŸ”® Real-time Dashboard Updates (WebSocket)
